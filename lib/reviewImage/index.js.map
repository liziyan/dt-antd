{"version":3,"sources":["../../src/reviewImage/index.js"],"names":["TableDrawer","state","width","height","picUrl","props","that","imgtemp","Image","src","onload","event","w","target","h","_w","document","body","offsetWidth","_h","offsetHeight","style","setState","onCancel","React","Component"],"mappings":";;;;;;;;AAkBA;;;;AACA;;AAGA;;;;;;;;+eAtBA;;;;;;;;;;;;;;;;;;;;IAwBqBA,W;;;;;;;;;;;;;;gMACnBC,K,GAAQ;AACNC,aAAO,GADD,EACM;AACZC,cAAQ,MAFF,CAEU;;AAElB;;;;AAJQ,K;;;;;wCAQY;AAAA,UACXC,MADW,GACD,KAAKC,KADJ,CACXD,MADW;;AAElB,UAAIE,OAAO,IAAX;AACA,UAAIC,UAAU,IAAIC,KAAJ,EAAd;AACAD,cAAQE,GAAR,GAAcL,MAAd;AACAG,cAAQG,MAAR,GAAiB,UAACC,KAAD,EAAS;AACxB,YAAIC,IAAID,MAAME,MAAN,CAAaX,KAArB,CADwB,CACI;AAC5B,YAAIY,IAAIH,MAAME,MAAN,CAAaV,MAArB,CAFwB,CAEK;AAC7B,YAAIY,KAAKC,SAASC,IAAT,CAAcC,WAAd,GAA4B,GAArC,CAHwB,CAGkB;AAC1C,YAAIC,KAAKH,SAASC,IAAT,CAAcG,YAAd,GAA6B,GAAtC,CAJwB,CAImB;AAC3C,YAAIlB,QAAQ,CAACU,KAAKG,EAAL,GAAUA,EAAV,GAAeH,CAAhB,IAAqB,EAAjC;AACA,YAAIT,SAAS,CAACW,KAAKK,EAAL,GAAUA,EAAV,GAAeL,CAAhB,IAAqB,EAAlC;AACA,YAAIO,QAAQP,KAAKK,EAAL,GAAU,EAAV,GAAe,MAA3B;AACAb,aAAKgB,QAAL,CAAc;AACZpB,iBAAOA,QAAQ,GAAR,GAAcA,KAAd,GAAsB,GADjB;AAEZC,kBAAQA,SAAS,GAAT,GAAeA,MAAf,GAAwB,GAFpB;AAGZkB;AAHY,SAAd;AAKD,OAbD;AAcD;;;6BACQ;AAAA,mBAIH,KAAKhB,KAJF;AAAA,UAELkB,QAFK,UAELA,QAFK;AAAA,UAGLnB,MAHK,UAGLA,MAHK;AAAA,mBAKwB,KAAKH,KAL7B;AAAA,UAKAC,KALA,UAKAA,KALA;AAAA,UAKOC,MALP,UAKOA,MALP;AAAA,UAKekB,KALf,UAKeA,KALf;;AAMP,aACE;AAAC,mBAAD;AAAA;AACE,gCAAoBA,KADtB;AAEE,mBAAS,IAFX;AAGE,oBAAU,IAHZ;AAIE,kBAAQ,IAJV;AAKE,iBAAOnB,KALT;AAME,kBAAQC,MANV;AAOE,oBAAUoB;AAPZ;AASE,+CAAK,KAAKnB,MAAV,EAAkB,KAAI,EAAtB;AATF,OADF;AAaD;;;;EAhDsCoB,gBAAMC,S;;kBAA1BzB,W","file":"index.js","sourcesContent":["/**\r\n * @title: 查看详情中有图片时，点击图片可查看大图\r\n * @author: 雏田\r\n * @version: 1.0.0\r\n * @time: 2018-10-10\r\n * @param {[string]}   [picUrl]   [要展示的大图的图片路径]\r\n * @param {[function]} [onCancel] [关掉大图的回调函数]\r\n  * 调用方法：\r\n  import ReviewImage from '@/components/reviewImage/index';\r\n  {showModal &&\r\n    <ReviewImage\r\n      picUrl={ModalImg}\r\n      onCancel={()=>{\r\n        this.setState({showModal: false})\r\n      }}\r\n    />\r\n  }\r\n */\r\nimport React from 'react';\r\nimport {  \r\n  Modal,\r\n} from 'antd';\r\nimport './index.less';\r\n\r\nexport default class TableDrawer extends React.Component {\r\n  state = {\r\n    width: 520, // modal的宽度\r\n    height: 'auto', // modal的高度   \r\n  }  \r\n  /**\r\n   * [componentDidMount 加载render方法之前,获取所有用户列表]\r\n   * @return {[type]} [description]\r\n   */\r\n  componentDidMount() {\r\n    const {picUrl} = this.props; \r\n    let that = this;   \r\n    let imgtemp = new Image();\r\n    imgtemp.src = picUrl;\r\n    imgtemp.onload = (event)=>{\r\n      let w = event.target.width; // 图片真实高度\r\n      let h = event.target.height; // 图片真实宽度\r\n      let _w = document.body.offsetWidth - 200; // 屏幕宽度\r\n      let _h = document.body.offsetHeight - 200; // 屏幕高度\r\n      let width = (w >= _w ? _w : w) + 80;\r\n      let height = (h >= _h ? _h : h) + 80;\r\n      let style = h >= _h ? '' : 'flex';\r\n      that.setState({\r\n        width: width > 520 ? width : 520,\r\n        height: height > 440 ? height : 440,\r\n        style,\r\n      });\r\n    }\r\n  }  \r\n  render() {\r\n    const {\r\n      onCancel,\r\n      picUrl\r\n    } = this.props;\r\n    const {width, height, style} = this.state;    \r\n    return (\r\n      <Modal\r\n        className={`modal ${style}`}        \r\n        visible={true}\r\n        centered={true}\r\n        footer={null}\r\n        width={width}\r\n        height={height}\r\n        onCancel={onCancel}\r\n      >\r\n        <img src={picUrl} alt='' />\r\n      </Modal>\r\n    )    \r\n  }\r\n}"]}